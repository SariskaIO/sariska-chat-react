[{"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/index.js":"1","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/App.js":"2","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/reportWebVitals.js":"3","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/socket/SocketProvider.js":"4","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/MessageList.js":"5","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/channel/UseEventHandler.js":"6","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/channel/CreateChannel.js":"7","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/socket/SocketContext.js":"8","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/constants/index.js":"9","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/utils/index.js":"10","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/MessageItem.js":"11","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/ChatWindow.js":"12","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/assets/styles/colors.js":"13"},{"size":610,"mtime":1610048170743,"results":"14","hashOfConfig":"15"},{"size":1951,"mtime":1610643110629,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1609395089475,"results":"17","hashOfConfig":"15"},{"size":1130,"mtime":1610048428870,"results":"18","hashOfConfig":"15"},{"size":6483,"mtime":1610695519467,"results":"19","hashOfConfig":"15"},{"size":476,"mtime":1609932870031,"results":"20","hashOfConfig":"15"},{"size":786,"mtime":1610621553171,"results":"21","hashOfConfig":"15"},{"size":109,"mtime":1610023294664,"results":"22","hashOfConfig":"15"},{"size":365,"mtime":1610516072272,"results":"23","hashOfConfig":"15"},{"size":1002,"mtime":1610605204379,"results":"24","hashOfConfig":"15"},{"size":1065,"mtime":1610695597839,"results":"25","hashOfConfig":"15"},{"size":1453,"mtime":1610542734010,"results":"26","hashOfConfig":"15"},{"size":126,"mtime":1610688833005,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"wl3tj5",{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/index.js",[],["59","60"],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/App.js",["61","62","63"],"import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport CreateChannel from './components/channel/CreateChannel';\nimport UseEventHandler from './components/channel/UseEventHandler';\nimport ChatWindow from './components/messages/ChatWindow';\n\nconst App = ()=> {\n  const [user, setUser] = useState(null);\n  const [room, setRoom] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [chat, setchat] = useState('hello guru');\n\n  const chatChannel = CreateChannel('chat:room123', {});\n\n  UseEventHandler(chatChannel, 'user_joined', response => {\n       const {room, user}  = response;\n       setUser(user);\n       setRoom(room);\n       localStorage.setItem(\"user\",JSON.stringify({id : user.id, name: user.name}));\n       localStorage.setItem(\"room\",JSON.stringify({session_id : room.session_id, created_by: room.created_by, inserted_at: room.inserted_at}));\n  });\n\n//console.log('usersed are: ', JSON.parse(localStorage.getItem(\"user\")) || 'hello');\n\n  UseEventHandler(chatChannel, 'new_message', message => {\n      console.log('newMessage', message);\n      setMessages(messages => [...messages, message])\n  });\n\n  UseEventHandler(chatChannel, 'archived_message', message => {\n       console.log('archived', message)\n      setMessages(messages => [message, ...messages])\n  });\n\n  UseEventHandler(chatChannel, 'archived_message_count', payload => {\n     const { page: { count }} = payload;\n     console.log('total archived message count', count);\n  });\n\n  const pushMessage = (message)=>{\n      console.log('channel', chatChannel);\n      setMessages(messages => [...messages, message]);\n      chatChannel.push('new_message', {content: message});\n      console.log('channel', chatChannel);\n  };\n\n  console.log('message one two', messages);\n\n  return (\n      <div className=\"App\">\n          <ChatWindow messages={messages} pushMessage={pushMessage} user={user} room={room}/>\n      </div>\n  );\n}\n\nexport default App;\n","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/reportWebVitals.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/socket/SocketProvider.js",["64"],"import React, {useEffect, useState} from 'react'\nimport {Socket} from 'phoenix';\nimport SocketContext from './SocketContext';\nimport {getToken} from \"../../utils\";\nimport {WEB_SOCKET_URL} from \"../../constants\";\n\nconst SocketProvider = ({children}) => {\n    const [socket, setSocket] = useState(null);\n    useEffect(() => {\n        const fetchData = async ()=> {\n            console.log('socket', socket);\n            const token = await getToken();\n            console.log('token',token);\n            const params = {token};\n            const s = new Socket(WEB_SOCKET_URL, {params});\n            s.onOpen( () => console.log(\"connection open!\") )\n            s.onError( () => console.log(\"there was an error with the connection!\") )\n            s.onClose( () => console.log(\"the connection dropped\") )\n            s.connect();\n            setSocket(s);\n        }\n        fetchData();\n        return () => {\n            socket && socket.disconnect();\n        }\n    }, []);\n\n    return (\n        <SocketContext.Provider value={socket}>\n            {children}\n        </SocketContext.Provider>\n    )\n}\n\nexport default SocketProvider","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/MessageList.js",["65","66","67"],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/channel/UseEventHandler.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/channel/CreateChannel.js",["68","69"],"import { useContext, useEffect, useRef, useState } from 'react'\nimport SocketContext from '../socket/SocketContext'\n\nconst CreateChannel = (topic, params={}, onJoin) => {\n    const socket = useContext(SocketContext);\n    const [channel, setChannel] = useState(null);\n    \n    useEffect(()=>{\n        if(socket===null){\n            return;\n        }\n        const ch = socket.channel(topic, params);\n        ch.join()\n            .receive('ignore', () => console.log('Access denied.'))\n            .receive('ok', () => console.log('Access granted.'))\n            .receive('timeout', () => console.log('Timeout.'));\n        setChannel(ch);\n        return () => {\n            ch && ch.leave();\n        }\n    }, [socket])\n    return (\n        channel\n    )\n}\n\nexport default CreateChannel;\n","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/socket/SocketContext.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/constants/index.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/utils/index.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/MessageItem.js",[],"/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/components/messages/ChatWindow.js",["70","71","72","73"],"import React from 'react'\nimport MessageItem from \"./MessageItem\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { COMPANY_LOGO } from '../../constants';\nimport MessageList from './MessageList';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n      textAlign: 'left'\n    },\n  }));\n  \nconst ChatWindow = ({messages, user, pushMessage, room}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n               <Toolbar>\n                 <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                   <img src={COMPANY_LOGO} />\n                 </IconButton>\n                 <Typography variant=\"h6\" className={classes.title}>\n                   Sariska\n                 </Typography>\n               </Toolbar>\n             </AppBar>\n            <MessageList messages={messages} user={user} pushMessage={pushMessage} room={room}/>\n        </div>\n    )\n}\n\n\nexport default ChatWindow;\n","/Users/guru/Documents/work/collabor8/collabor8-codes/SDKs/chats/sariska-chat-react/src/assets/styles/colors.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":1,"column":17,"nodeType":"80","messageId":"81","endLine":1,"endColumn":26},{"ruleId":"78","severity":1,"message":"82","line":11,"column":10,"nodeType":"80","messageId":"81","endLine":11,"endColumn":14},{"ruleId":"78","severity":1,"message":"83","line":11,"column":16,"nodeType":"80","messageId":"81","endLine":11,"endColumn":23},{"ruleId":"84","severity":1,"message":"85","line":26,"column":8,"nodeType":"86","endLine":26,"endColumn":10,"suggestions":"87"},{"ruleId":"78","severity":1,"message":"88","line":6,"column":8,"nodeType":"80","messageId":"81","endLine":6,"endColumn":17},{"ruleId":"78","severity":1,"message":"82","line":106,"column":12,"nodeType":"80","messageId":"81","endLine":106,"endColumn":16},{"ruleId":"78","severity":1,"message":"89","line":133,"column":14,"nodeType":"80","messageId":"81","endLine":133,"endColumn":25},{"ruleId":"78","severity":1,"message":"90","line":1,"column":33,"nodeType":"80","messageId":"81","endLine":1,"endColumn":39},{"ruleId":"84","severity":1,"message":"91","line":21,"column":8,"nodeType":"86","endLine":21,"endColumn":16,"suggestions":"92"},{"ruleId":"78","severity":1,"message":"93","line":2,"column":8,"nodeType":"80","messageId":"81","endLine":2,"endColumn":19},{"ruleId":"78","severity":1,"message":"94","line":7,"column":8,"nodeType":"80","messageId":"81","endLine":7,"endColumn":14},{"ruleId":"78","severity":1,"message":"95","line":9,"column":8,"nodeType":"80","messageId":"81","endLine":9,"endColumn":16},{"ruleId":"96","severity":1,"message":"97","line":36,"column":20,"nodeType":"98","endLine":36,"endColumn":46},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'chat' is assigned a value but never used.","'setchat' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.","ArrayExpression",["101"],"'CardMedia' is defined but never used.","'userDetails' is assigned a value but never used.","'useRef' is defined but never used.","React Hook useEffect has missing dependencies: 'params' and 'topic'. Either include them or remove the dependency array.",["102"],"'MessageItem' is defined but never used.","'Button' is defined but never used.","'MenuIcon' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},"Update the dependencies array to be: [socket]",{"range":"107","text":"108"},"Update the dependencies array to be: [params, socket, topic]",{"range":"109","text":"110"},[968,970],"[socket]",[708,716],"[params, socket, topic]"]