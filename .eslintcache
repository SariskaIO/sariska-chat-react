[{"/Users/brajendrakumar/sariska-chat-react/src/index.js":"1","/Users/brajendrakumar/sariska-chat-react/src/reportWebVitals.js":"2","/Users/brajendrakumar/sariska-chat-react/src/components/socket/SocketProvider.js":"3","/Users/brajendrakumar/sariska-chat-react/src/App.js":"4","/Users/brajendrakumar/sariska-chat-react/src/components/socket/SocketContext.js":"5","/Users/brajendrakumar/sariska-chat-react/src/components/channel/UseEventHandler.js":"6","/Users/brajendrakumar/sariska-chat-react/src/components/messages/ChatWindow.js":"7","/Users/brajendrakumar/sariska-chat-react/src/components/channel/CreateChannel.js":"8","/Users/brajendrakumar/sariska-chat-react/src/constants/index.js":"9","/Users/brajendrakumar/sariska-chat-react/src/utils/index.js":"10","/Users/brajendrakumar/sariska-chat-react/src/components/messages/MessageList.js":"11","/Users/brajendrakumar/sariska-chat-react/src/assets/styles/colors.js":"12","/Users/brajendrakumar/sariska-chat-react/src/components/messages/messageItem.js":"13","/Users/brajendrakumar/sariska-chat-react/src/components/messages/MessageItem.js":"14"},{"size":610,"mtime":1614458340607,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1614458340607,"results":"17","hashOfConfig":"16"},{"size":1130,"mtime":1614458340606,"results":"18","hashOfConfig":"16"},{"size":1919,"mtime":1614630167293,"results":"19","hashOfConfig":"16"},{"size":109,"mtime":1614458340605,"results":"20","hashOfConfig":"16"},{"size":476,"mtime":1614458340604,"results":"21","hashOfConfig":"16"},{"size":1451,"mtime":1614458340604,"results":"22","hashOfConfig":"16"},{"size":786,"mtime":1614458340604,"results":"23","hashOfConfig":"16"},{"size":365,"mtime":1614458340606,"results":"24","hashOfConfig":"16"},{"size":780,"mtime":1614629785867,"results":"25","hashOfConfig":"16"},{"size":6483,"mtime":1614629907628,"results":"26","hashOfConfig":"16"},{"size":126,"mtime":1614458340603,"results":"27","hashOfConfig":"16"},{"size":1065,"mtime":1612509010122,"results":"28","hashOfConfig":"16"},{"size":1054,"mtime":1614629903876,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"9588ek",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/brajendrakumar/sariska-chat-react/src/index.js",[],["64","65"],"/Users/brajendrakumar/sariska-chat-react/src/reportWebVitals.js",[],"/Users/brajendrakumar/sariska-chat-react/src/components/socket/SocketProvider.js",["66"],"import React, {useEffect, useState} from 'react'\nimport {Socket} from 'phoenix';\nimport SocketContext from './SocketContext';\nimport {getToken} from \"../../utils\";\nimport {WEB_SOCKET_URL} from \"../../constants\";\n\nconst SocketProvider = ({children}) => {\n    const [socket, setSocket] = useState(null);\n    useEffect(() => {\n        const fetchData = async ()=> {\n            console.log('socket', socket);\n            const token = await getToken();\n            console.log('token',token);\n            const params = {token};\n            const s = new Socket(WEB_SOCKET_URL, {params});\n            s.onOpen( () => console.log(\"connection open!\") )\n            s.onError( () => console.log(\"there was an error with the connection!\") )\n            s.onClose( () => console.log(\"the connection dropped\") )\n            s.connect();\n            setSocket(s);\n        }\n        fetchData();\n        return () => {\n            socket && socket.disconnect();\n        }\n    }, []);\n\n    return (\n        <SocketContext.Provider value={socket}>\n            {children}\n        </SocketContext.Provider>\n    )\n}\n\nexport default SocketProvider","/Users/brajendrakumar/sariska-chat-react/src/App.js",["67","68","69"],"import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport CreateChannel from './components/channel/CreateChannel';\nimport UseEventHandler from './components/channel/UseEventHandler';\nimport ChatWindow from './components/messages/ChatWindow';\n\nconst App = ()=> {\n  const [user, setUser] = useState(null);\n  const [room, setRoom] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [chat, setchat] = useState('hello guru');\n\n  const chatChannel = CreateChannel('chat:yo', {});\n\n  UseEventHandler(chatChannel, 'user_joined', response => {\n       const {room, user}  = response;\n       setUser(user);\n       setRoom(room);\n       localStorage.setItem(\"user\",JSON.stringify({id : user.id, name: user.name}));\n       localStorage.setItem(\"room\",JSON.stringify({session_id : room.session_id, created_by: room.created_by, inserted_at: room.inserted_at}));\n  });\n\n//console.log('usersed are: ', JSON.parse(localStorage.getItem(\"user\")) || 'hello');\n\n  UseEventHandler(chatChannel, 'new_message', message => {\n    console.log(\"new_message\", message);\n      setMessages(messages => [...messages, message])\n  });\n\n  UseEventHandler(chatChannel, 'archived_message', message => {\n       console.log('archived', JSON.stringify(message));\n      setMessages(messages => [message, ...messages])\n  });\n\n  UseEventHandler(chatChannel, 'archived_message_count', payload => {\n     const { page: { count }} = payload;\n     console.log('total archived message count', count);\n  });\n\n  const pushMessage = (message)=>{\n      const new_message =  {content: message}\n      setMessages(messages => [...messages, new_message]);\n      chatChannel.push('new_message', new_message);\n  };\n\n  console.log('message one two', messages);\n\n  return (\n      <div className=\"App\">\n          <ChatWindow messages={messages} pushMessage={pushMessage} user={user} room={room}/>\n      </div>\n  );\n}\n\nexport default App;\n","/Users/brajendrakumar/sariska-chat-react/src/components/socket/SocketContext.js",[],"/Users/brajendrakumar/sariska-chat-react/src/components/channel/UseEventHandler.js",[],"/Users/brajendrakumar/sariska-chat-react/src/components/messages/ChatWindow.js",["70","71","72","73"],"import React from 'react'\nimport MessageItem from \"./MessageItem\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { COMPANY_LOGO } from '../../constants';\nimport MessageList from './MessageList';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n      textAlign: 'left'\n    },\n  }));\n\nconst ChatWindow = ({messages, user, pushMessage, room}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n               <Toolbar>\n                 <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                   <img src={COMPANY_LOGO} />\n                 </IconButton>\n                 <Typography variant=\"h6\" className={classes.title}>\n                   Sariska\n                 </Typography>\n               </Toolbar>\n             </AppBar>\n            <MessageList messages={messages} user={user} pushMessage={pushMessage} room={room}/>\n        </div>\n    )\n}\n\n\nexport default ChatWindow;\n","/Users/brajendrakumar/sariska-chat-react/src/components/channel/CreateChannel.js",["74","75"],"import { useContext, useEffect, useRef, useState } from 'react'\nimport SocketContext from '../socket/SocketContext'\n\nconst CreateChannel = (topic, params={}, onJoin) => {\n    const socket = useContext(SocketContext);\n    const [channel, setChannel] = useState(null);\n    \n    useEffect(()=>{\n        if(socket===null){\n            return;\n        }\n        const ch = socket.channel(topic, params);\n        ch.join()\n            .receive('ignore', () => console.log('Access denied.'))\n            .receive('ok', () => console.log('Access granted.'))\n            .receive('timeout', () => console.log('Timeout.'));\n        setChannel(ch);\n        return () => {\n            ch && ch.leave();\n        }\n    }, [socket])\n    return (\n        channel\n    )\n}\n\nexport default CreateChannel;\n","/Users/brajendrakumar/sariska-chat-react/src/constants/index.js",[],"/Users/brajendrakumar/sariska-chat-react/src/utils/index.js",[],"/Users/brajendrakumar/sariska-chat-react/src/components/messages/MessageList.js",["76","77","78"],"/Users/brajendrakumar/sariska-chat-react/src/assets/styles/colors.js",[],"/Users/brajendrakumar/sariska-chat-react/src/components/messages/messageItem.js",[],["79","80"],"/Users/brajendrakumar/sariska-chat-react/src/components/messages/MessageItem.js",[],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":26,"column":8,"nodeType":"87","endLine":26,"endColumn":10,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":1,"column":17,"nodeType":"91","messageId":"92","endLine":1,"endColumn":26},{"ruleId":"89","severity":1,"message":"93","line":11,"column":10,"nodeType":"91","messageId":"92","endLine":11,"endColumn":14},{"ruleId":"89","severity":1,"message":"94","line":11,"column":16,"nodeType":"91","messageId":"92","endLine":11,"endColumn":23},{"ruleId":"89","severity":1,"message":"95","line":2,"column":8,"nodeType":"91","messageId":"92","endLine":2,"endColumn":19},{"ruleId":"89","severity":1,"message":"96","line":7,"column":8,"nodeType":"91","messageId":"92","endLine":7,"endColumn":14},{"ruleId":"89","severity":1,"message":"97","line":9,"column":8,"nodeType":"91","messageId":"92","endLine":9,"endColumn":16},{"ruleId":"98","severity":1,"message":"99","line":36,"column":20,"nodeType":"100","endLine":36,"endColumn":46},{"ruleId":"89","severity":1,"message":"101","line":1,"column":33,"nodeType":"91","messageId":"92","endLine":1,"endColumn":39},{"ruleId":"85","severity":1,"message":"102","line":21,"column":8,"nodeType":"87","endLine":21,"endColumn":16,"suggestions":"103"},{"ruleId":"89","severity":1,"message":"104","line":6,"column":8,"nodeType":"91","messageId":"92","endLine":6,"endColumn":17},{"ruleId":"89","severity":1,"message":"93","line":106,"column":12,"nodeType":"91","messageId":"92","endLine":106,"endColumn":16},{"ruleId":"89","severity":1,"message":"105","line":133,"column":14,"nodeType":"91","messageId":"92","endLine":133,"endColumn":25},{"ruleId":"81","replacedBy":"106"},{"ruleId":"83","replacedBy":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.","ArrayExpression",["110"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'chat' is assigned a value but never used.","'setchat' is assigned a value but never used.","'MessageItem' is defined but never used.","'Button' is defined but never used.","'MenuIcon' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useRef' is defined but never used.","React Hook useEffect has missing dependencies: 'params' and 'topic'. Either include them or remove the dependency array.",["111"],"'CardMedia' is defined but never used.","'userDetails' is assigned a value but never used.",["108"],["109"],"no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},"Update the dependencies array to be: [socket]",{"range":"116","text":"117"},"Update the dependencies array to be: [params, socket, topic]",{"range":"118","text":"119"},[968,970],"[socket]",[708,716],"[params, socket, topic]"]